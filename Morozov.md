# Курсовая работа

**Тема:** База данных агентства по аренде квартир.

**Студент:** Морозов Николай Константинович.

**Группа:** 414.

# Содержание

- [Введение](#введение)
- [Анализ предметной области](#анализ-предметной-области)
- [Инфологическая модель базы данных](#инфологическая-модель-базы-данных)
- [Логическая структура базы данных](#логическая-структура-базы-данных)
- [Физическая структура базы данных](#физическая-структура-базы-данных)
- [Реализация проекта в СУБД](#реализация-проекта-в-субд)
- [Заключение](#заключение)
- [Список использованных источников](#список-использованных-источников)


# Введение

## Актуальность
Актуальность разработки базы данных для агентства по аренде квартир обусловлена постоянно растущим спросом на аренду жилья и необходимостью эффективного управления информацией о клиентах, квартирах и аренде. В условиях современных технологий эффективное использование базы данных позволяет ускорить процессы поиска жилья, улучшить взаимодействие с клиентами и минимизировать ошибки.

## Цель
Целью данной работы является разработка и реализация базы данных для агентства по аренде квартир, которая будет включать в себя хранение информации о клиентах, квартирах, аренде и сотрудниках агентства.

## Задачи
1. Проанализировать требования к базе данных для агентства по аренде квартир.
2. Разработать структуру базы данных.
3. Реализовать таблицы и отношения между ними.


 ## 1. Анализ предметной области. Постановка задачи

### 1.1. Описание предметной области и функции решаемых задач
Предметной областью является аренда квартир в агентствах недвижимости. Система решает задачи регистрации клиентов, сотрудников и квартир, управления арендами, а также отслеживания доступных квартир. Система позволяет агентам и клиентам взаимодействовать для поиска жилья, оформления аренды и управления арендными договорами.

### 1.2. Перечень входных данных
- Данные клиентов: имя, фамилия, контактные данные.
- Данные квартир: адрес, количество комнат, площадь, цена, доступность.
- Данные сотрудников: ФИО, должность.
- Данные аренды: клиент, квартира, срок аренды, стоимость.

### 1.3. Перечень выходных данных
- Список доступных квартир.
- История арендных сделок.
- Статистика по аренде.

### 1.4. Ограничения предметной области
- Аренда доступна только для свободных квартир.
- Система ограничивает доступ к данным сотрудников.
- Сроки аренды могут быть ограничены договорными условиями.


## 2. Инфологическая (концептуальная) модель базы данных

### 2.1. Выделение информационных объектов
Основными информационными объектами в системе аренды квартир являются:
- **Клиенты**: люди, которые арендуют квартиры.
- **Квартиры**: объекты недвижимости, которые сдаются в аренду.
- **Аренда**: отношения между клиентами и квартирами, фиксирующие аренду.
- **Сотрудники**: работники агентства, которые управляют арендами и клиентами.

### 2.2. Определение атрибутов объектов
- **Клиенты**: ID клиента, имя, фамилия, email, телефон.
- **Квартиры**: ID квартиры, адрес, количество комнат, площадь, цена, доступность.
- **Аренда**: ID аренды, ID клиента, ID квартиры, дата начала, дата окончания, цена аренды.
- **Сотрудники**: ID сотрудника, имя, фамилия, должность.

### 2.3. Определение отношений и мощности отношений между объектами
- **Клиенты - Аренда**: Один клиент может арендовать несколько квартир, но каждая аренда связана только с одним клиентом (1:N).
- **Квартиры - Аренда**: Каждая квартира может быть арендована несколько раз, но каждая аренда связана с одной квартирой (1:N).
- **Сотрудники - Аренда**: Один сотрудник может управлять несколькими арендами, но каждая аренда фиксируется только одним сотрудником (1:N).

### 2.4. Построение концептуальной модели
![Фото](1.png)

## 3. Реализация проекта в среде конкретной СУБД 

Проект реализуется в среде **PostgreSQL**. 

---

### 3.1. Создание таблиц

Для начала создадим необходимые таблицы для хранения информации о клиентах, квартирах, сотрудниках и договорах аренды. Пример SQL-запросов:

```sql
-- Создание таблицы клиентов
CREATE TABLE Clients (
    client_id SERIAL PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100),
    phone VARCHAR(15)
);

-- Создание таблицы квартир
CREATE TABLE Apartments (
    apartment_id SERIAL PRIMARY KEY,
    address VARCHAR(255) NOT NULL,
    number_of_rooms INT,
    area INT,
    price INT NOT NULL,
    available BOOLEAN DEFAULT TRUE
);

-- Создание таблицы сотрудников
CREATE TABLE Employees (
    employee_id SERIAL PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    position VARCHAR(50)
);

-- Создание таблицы аренды
CREATE TABLE Rentals (
    rental_id SERIAL PRIMARY KEY,
    client_id INT,
    apartment_id INT,
    employee_id INT,
    start_date DATE,
    end_date DATE,
    rental_price INT,
    FOREIGN KEY (client_id) REFERENCES Clients(client_id),
    FOREIGN KEY (apartment_id) REFERENCES Apartments(apartment_id),
    FOREIGN KEY (employee_id) REFERENCES Employees(employee_id)
);
```

Каждая из этих таблиц имеет свои атрибуты:

Clients — информация о клиентах, включая имя, фамилию, email и телефон.

Apartments — данные о квартирах, такие как адрес, количество комнат, площадь и стоимость аренды.

Employees — данные о сотрудниках агентства, их должности и имена.

Rentals — данные о заключенных договорах аренды, ссылаются на клиента, квартиру и сотрудника, который оформил аренду.









